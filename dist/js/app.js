(()=>{var C=new Set,D=new Set;function T(e){return typeof e=="function"&&!!e.isT}function A(e){return typeof e=="object"&&e!==null&&"$on"in e&&typeof e.$on=="function"}function K(e){return"$on"in e}function Q(e){return(o,t)=>{function n(){let c=Array.from(C);C.clear();let u=Array.from(D);D.clear(),c.forEach(r=>r(o,t)),u.forEach(r=>r()),C.size&&queueMicrotask(n)}C.size||queueMicrotask(n),C.add(e)}}var N={};function Y(e,o){let t=performance.now(),n=typeof o=="function";e=n?`${e} (ms)`:`${e} (calls)`;let c=n?o():o,u=n?performance.now()-t:o;return N[e]?N[e].push(u):N[e]=[u],c}var y=new Map;function $(e,o={}){if(A(e)||typeof e!="object")return e;let t=o.o||new Map,n=o.op||new Map,c=Array.isArray(e),u=[],r=c?[]:Object.create(e,{});for(let i in e){let l=e[i];typeof l=="object"&&l!==null?(r[i]=A(l)?l:$(l),u.push(i)):r[i]=l}let a=i=>(l,h)=>{let f=t.get(l),v=n.get(h);f||(f=new Set,t.set(l,f)),v||(v=new Set,n.set(h,v)),f[i](h),v[i](l)},s=a("add"),p=a("delete"),g=(i,l,h)=>{t.has(i)&&t.get(i).forEach(f=>f(l,h))},m={$on:s,$off:p,_em:g,_st:()=>({o:t,op:n,r,p:d._p}),_p:void 0},d=new Proxy(r,{has(i,l){return l in m||l in i},get(...i){let[,l]=i;if(Reflect.has(m,l))return Reflect.get(m,l);let h=Reflect.get(...i);return Z(d,l),c&&l in Array.prototype?J(l,r,d,h):h},set(...i){let[l,h,f]=i,v=Reflect.get(l,h);if(Reflect.has(m,h))return Reflect.set(m,h,f);if(f&&A(v)){let k=v,b=k._st(),L=A(f)?ee(f,k):$(f,b);return Reflect.set(l,h,L),g(h,L),b.o.forEach((ue,M)=>{let F=Reflect.get(v,M),O=Reflect.get(L,M);F!==O&&k._em(M,O,F)}),!0}let w=Reflect.set(...i);return w&&(v!==f&&g(h,f,v),d._p&&d._p[1]._em(...d._p)),w}});return o.p&&(d._p=o.p),u.map(i=>{d[i]._p=[i,d]}),d}function Z(e,o){y.forEach(t=>{let n=t.get(e);n||(n=new Set,t.set(e,n)),n.add(o)})}function J(e,o,t,n){let c=(...u)=>{let r=Array.prototype[e].call(o,...u);if(o.forEach((a,s)=>t._em(String(s),a)),t._p){let[a,s]=t._p;s._em(a,t)}return r};switch(e){case"shift":case"pop":case"sort":case"reverse":case"copyWithin":return c;case"unshift":case"push":case"fill":return(...u)=>c(...u.map(r=>$(r)));case"splice":return function(u,r,...a){return arguments.length===1?c(u):c(u,r,...a.map(s=>$(s)))};default:return n}}function ee(e,o){let t=o._st();return t.o&&t.o.forEach((n,c)=>{n.forEach(u=>{e.$on(c,u)})}),t.p&&(e._p=t.p),e}function W(e,o){let t=Symbol();y.has(t)||y.set(t,new Map);let n=new Map,c=Q(u);function u(){y.set(t,new Map);let r=e(),a=y.get(t);return y.delete(t),n.forEach((s,p)=>{let g=a.get(p);g&&g.forEach(_=>s.delete(_)),s.forEach(_=>p.$off(_,c))}),a.forEach((s,p)=>{s.forEach(g=>p.$on(g,c))}),n=a,o?o(r):r}return K(e)&&e.$on(u),u()}var S=new WeakMap,V={},q="\u27B3\u274D",X="\u274D\u21DA",z=`<!--${q}-->`,te=`<!--${X}-->`;function j(e,...o){let t=[],n="",c=(a,s)=>{if(typeof a=="function"){let p=()=>{};return t.push(Object.assign((...g)=>a(...g),{e:a,$on:g=>{p=g},_up:g=>{a=g,p()}})),s+z}return Array.isArray(a)?a.reduce((p,g)=>c(g,p),s):s+a},u=()=>(n||(!o.length&&e.length===1&&e[0]===""?n="<!---->":n=e.reduce(function(s,p,g){return s+=p,o[g]!==void 0?c(o[g],s):s},"")),n),r=a=>{let s=G(u()),p=I(s,{i:0,e:t});return a?p(a):p()};return r.isT=!0,r._k=0,r._h=()=>[u(),t,r._k],r.key=a=>(r._k=a,r),r}function I(e,o){let t,n=0,c=e.childNodes;for(;t=c.item(n++);){if(t.nodeType===8&&t.nodeValue===q){se(t,o);continue}t instanceof Element&&ne(t,o),t.hasChildNodes()&&I(t,o),t instanceof HTMLOptionElement&&(t.selected=t.defaultSelected)}return u=>u?(u.appendChild(e),u):e}function ne(e,o){var t;let n=[],c=0,u;for(;u=e.attributes[c++];){if(o.i>=o.e.length)return;if(u.value!==z)continue;let r=u.name,a=o.e[o.i++];if(r.charAt(0)==="@"){let s=r.substring(1);e.addEventListener(s,a),S.has(e)||S.set(e,new Map),(t=S.get(e))===null||t===void 0||t.set(s,a),n.push(r)}else{let s=r==="value"&&"value"in e||r==="checked"||r.startsWith(".")&&(r=r.substring(1));W(a,p=>{s&&(e[r]=p,e.getAttribute(r)!=p&&(p=!1)),p!==!1?e.setAttribute(r,p):(e.removeAttribute(r),c--)})}}n.forEach(r=>e.removeAttribute(r))}function oe(e){e.forEach(re)}function re(e){var o;e.remove(),(o=S.get(e))===null||o===void 0||o.forEach((t,n)=>e.removeEventListener(n,t))}function se(e,o){var t;let n=o.e[o.i++],c;if(n&&T(n.e))c=x().add(n.e)();else{let u;c=(u=W(n,r=>ie(r,u)))()}(t=e.parentNode)===null||t===void 0||t.replaceChild(c,e)}function ie(e,o){let t=typeof o=="function",n=t?o:x();return Array.isArray(e)?e.forEach(c=>Y("partialAdd",()=>n.add(c))):n.add(e),t&&n._up(),n}function G(e){var o;let n=((o=V[e])!==null&&o!==void 0?o:(()=>{let c=document.createElement("template");return c.innerHTML=e,V[e]=c})()).content.cloneNode(!0);return n.normalize(),n}function x(e=Symbol()){let o="",t={i:0,e:[]},n=[],c=[],u=new Map,r=[],a=()=>{let m;if(n.length||p(),n.length===1&&!T(n[0].tpl)){let d=n[0];d.dom.length?d.dom[0].nodeValue=d.tpl:d.dom.push(document.createTextNode(d.tpl)),m=d.dom[0]}else m=g(I(G(o),t)());return s(),m};a.ch=()=>c,a.l=0,a.add=m=>{if(!m&&m!==0)return a;let d=[],i,l="";T(m)&&([l,d,i]=m._h()),o+=l,o+=te;let h=i&&u.get(i),f=h||{html:l,exp:d,dom:[],tpl:m,key:i};return n.push(f),i&&(h?h.exp.forEach((v,w)=>v._up(d[w].e)):u.set(i,f)),t.e.push(...d),a.l++,a},a._up=()=>{let m=x(e),d=0,i=c[0].dom[0];n.length||p(document.createComment(""));let l=()=>{if(!m.l)return;let f=m(),v=f.lastChild;i[d?"after":"before"](f),_(m,n,d),i=v};n.forEach((f,v)=>{let w=c[v];f.key&&f.dom.length?(l(),(!w||w.dom!==f.dom)&&i[v?"after":"before"](...f.dom),i=f.dom[f.dom.length-1]):w&&f.html===w.html&&!w.key?(l(),w.exp.forEach((k,b)=>k._up(f.exp[b].e)),f.exp=w.exp,f.dom=w.dom,i=f.dom[f.dom.length-1],ce(f)&&i instanceof Text&&(i.nodeValue=f.tpl)):(w&&f.html!==w.html&&!w.key&&r.push(...w.dom),m.l||(d=v),m.add(f.tpl))}),l();let h=i==null?void 0:i.nextSibling;for(;h&&e in h;)r.push(h),h=h.nextSibling;oe(r),s()};let s=()=>{r.length=0,o="",a.l=0,t={i:0,e:[]},c=[...n],n=[]},p=m=>{o="<!---->",n.push({html:o,exp:[],dom:m?[m]:[],tpl:j`${o}`,key:0})},g=m=>{let d=0,i=[];return m.childNodes.forEach(l=>{if(l.nodeType===8&&l.data===X){d++,i.push(l);return}Object.defineProperty(l,e,{value:e}),n[d].dom.push(l)}),i.forEach(l=>l.remove()),m},_=(m,d,i)=>{m.ch().forEach((l,h)=>{d[i+h].dom=l.dom})};return a}function ce(e){return e.dom.length===1&&!T(e.tpl)}var P=j,H=$;function U(e){let o=document.cookie.split("; ").find(t=>t.startsWith(e+"="));return o?o.split("=")[1]:null}var E=H({user:{id:null,username:null,email:null,profilePicture:null},APItoken:null,authToken:null,csrfToken:U("CSRF-TOKEN"),currentPage:"home",pages:{},allowedPages:["home","login","register","profile","settings"],TITLE_PREFIX:"YALP SOZIAL | "});var B=()=>{let e=E.TITLE_PREFIX,o=window.location.pathname.startsWith("/app")?"/app":"",t="/app",n=s=>{document.title=`${e}${s.charAt(0).toUpperCase()+s.slice(1)}`},c=s=>{E.allowedPages.includes(s)&&(E.currentPage=s,window.history.pushState({},"",`${o}/${s}`),n(s))},u=(s,p)=>{E.allowedPages.includes(s)&&(E.pages[s]=p)},r=(s,p)=>P`
            <a href="#" @click="${g=>{g.preventDefault(),c(s)}}">${p}</a>
        `,a=()=>(n(E.currentPage),E.pages[E.currentPage]||P`<div>Page not found</div>`);return window.addEventListener("popstate",()=>{let s=window.location.pathname.replace(t,"").slice(1)||"home";if(!window.location.pathname.startsWith(t)){window.location.href=`${t}/home`;return}E.allowedPages.includes(s)&&c(s)}),{changePage:c,addPage:u,createPageLink:r,renderCurrentPage:a}};var ae=document.getElementById("app"),R=B();R.addPage("home",P`
    <div>
        <h1>Home Page</h1>
    </div>
`);R.addPage("settings",P`
    <div>
        <h1>Settings</h1>
    </div>
`);var le=P`
    ${R.renderCurrentPage}
    ${R.createPageLink("settings","settings")}
    ${R.createPageLink("home","home")}
`;le(ae);})();
