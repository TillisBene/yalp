(()=>{var b=new Set,V=new Set;function T(e){return typeof e=="function"&&!!e.isT}function S(e){return typeof e=="object"&&e!==null&&"$on"in e&&typeof e.$on=="function"}function Q(e){return"$on"in e}function U(e){return(o,t)=>{function r(){let a=Array.from(b);b.clear();let l=Array.from(V);V.clear(),a.forEach(n=>n(o,t)),l.forEach(n=>n()),b.size&&queueMicrotask(r)}b.size||queueMicrotask(r),b.add(e)}}var N={};function Y(e,o){let t=performance.now(),r=typeof o=="function";e=r?`${e} (ms)`:`${e} (calls)`;let a=r?o():o,l=r?performance.now()-t:o;return N[e]?N[e].push(l):N[e]=[l],a}var _=new Map;function $(e,o={}){if(S(e)||typeof e!="object")return e;let t=o.o||new Map,r=o.op||new Map,a=Array.isArray(e),l=[],n=a?[]:Object.create(e,{});for(let i in e){let s=e[i];typeof s=="object"&&s!==null?(n[i]=S(s)?s:$(s),l.push(i)):n[i]=s}let c=i=>(s,m)=>{let u=t.get(s),v=r.get(m);u||(u=new Set,t.set(s,u)),v||(v=new Set,r.set(m,v)),u[i](m),v[i](s)},f=c("add"),h=c("delete"),g=(i,s,m)=>{t.has(i)&&t.get(i).forEach(u=>u(s,m))},p={$on:f,$off:h,_em:g,_st:()=>({o:t,op:r,r:n,p:d._p}),_p:void 0},d=new Proxy(n,{has(i,s){return s in p||s in i},get(...i){let[,s]=i;if(Reflect.has(p,s))return Reflect.get(p,s);let m=Reflect.get(...i);return Z(d,s),a&&s in Array.prototype?J(s,n,d,m):m},set(...i){let[s,m,u]=i,v=Reflect.get(s,m);if(Reflect.has(p,m))return Reflect.set(p,m,u);if(u&&S(v)){let C=v,A=C._st(),L=S(u)?ee(u,C):$(u,A);return Reflect.set(s,m,L),g(m,L),A.o.forEach((ue,M)=>{let F=Reflect.get(v,M),O=Reflect.get(L,M);F!==O&&C._em(M,O,F)}),!0}let P=Reflect.set(...i);return P&&(v!==u&&g(m,u,v),d._p&&d._p[1]._em(...d._p)),P}});return o.p&&(d._p=o.p),l.map(i=>{d[i]._p=[i,d]}),d}function Z(e,o){_.forEach(t=>{let r=t.get(e);r||(r=new Set,t.set(e,r)),r.add(o)})}function J(e,o,t,r){let a=(...l)=>{let n=Array.prototype[e].call(o,...l);if(o.forEach((c,f)=>t._em(String(f),c)),t._p){let[c,f]=t._p;f._em(c,t)}return n};switch(e){case"shift":case"pop":case"sort":case"reverse":case"copyWithin":return a;case"unshift":case"push":case"fill":return(...l)=>a(...l.map(n=>$(n)));case"splice":return function(l,n,...c){return arguments.length===1?a(l):a(l,n,...c.map(f=>$(f)))};default:return r}}function ee(e,o){let t=o._st();return t.o&&t.o.forEach((r,a)=>{r.forEach(l=>{e.$on(a,l)})}),t.p&&(e._p=t.p),e}function D(e,o){let t=Symbol();_.has(t)||_.set(t,new Map);let r=new Map,a=U(l);function l(){_.set(t,new Map);let n=e(),c=_.get(t);return _.delete(t),r.forEach((f,h)=>{let g=c.get(h);g&&g.forEach(y=>f.delete(y)),f.forEach(y=>h.$off(y,a))}),c.forEach((f,h)=>{f.forEach(g=>h.$on(g,a))}),r=c,o?o(n):n}return Q(e)&&e.$on(l),l()}var R=new WeakMap,q={},z="\u27B3\u274D",G="\u274D\u21DA",H=`<!--${z}-->`,te=`<!--${G}-->`;function W(e,...o){let t=[],r="",a=(c,f)=>{if(typeof c=="function"){let h=()=>{};return t.push(Object.assign((...g)=>c(...g),{e:c,$on:g=>{h=g},_up:g=>{c=g,h()}})),f+H}return Array.isArray(c)?c.reduce((h,g)=>a(g,h),f):f+c},l=()=>(r||(!o.length&&e.length===1&&e[0]===""?r="<!---->":r=e.reduce(function(f,h,g){return f+=h,o[g]!==void 0?a(o[g],f):f},"")),r),n=c=>{let f=j(l()),h=I(f,{i:0,e:t});return c?h(c):h()};return n.isT=!0,n._k=0,n._h=()=>[l(),t,n._k],n.key=c=>(n._k=c,n),n}function I(e,o){let t,r=0,a=e.childNodes;for(;t=a.item(r++);){if(t.nodeType===8&&t.nodeValue===z){ce(t,o);continue}t instanceof Element&&ne(t,o),t.hasChildNodes()&&I(t,o),t instanceof HTMLOptionElement&&(t.selected=t.defaultSelected)}return l=>l?(l.appendChild(e),l):e}function ne(e,o){var t;let r=[],a=0,l;for(;l=e.attributes[a++];){if(o.i>=o.e.length)return;if(l.value!==H)continue;let n=l.name,c=o.e[o.i++];if(n.charAt(0)==="@"){let f=n.substring(1);e.addEventListener(f,c),R.has(e)||R.set(e,new Map),(t=R.get(e))===null||t===void 0||t.set(f,c),r.push(n)}else{let f=n==="value"&&"value"in e||n==="checked"||n.startsWith(".")&&(n=n.substring(1));D(c,h=>{f&&(e[n]=h,e.getAttribute(n)!=h&&(h=!1)),h!==!1?e.setAttribute(n,h):(e.removeAttribute(n),a--)})}}r.forEach(n=>e.removeAttribute(n))}function oe(e){e.forEach(re)}function re(e){var o;e.remove(),(o=R.get(e))===null||o===void 0||o.forEach((t,r)=>e.removeEventListener(r,t))}function ce(e,o){var t;let r=o.e[o.i++],a;if(r&&T(r.e))a=x().add(r.e)();else{let l;a=(l=D(r,n=>ie(n,l)))()}(t=e.parentNode)===null||t===void 0||t.replaceChild(a,e)}function ie(e,o){let t=typeof o=="function",r=t?o:x();return Array.isArray(e)?e.forEach(a=>Y("partialAdd",()=>r.add(a))):r.add(e),t&&r._up(),r}function j(e){var o;let r=((o=q[e])!==null&&o!==void 0?o:(()=>{let a=document.createElement("template");return a.innerHTML=e,q[e]=a})()).content.cloneNode(!0);return r.normalize(),r}function x(e=Symbol()){let o="",t={i:0,e:[]},r=[],a=[],l=new Map,n=[],c=()=>{let p;if(r.length||h(),r.length===1&&!T(r[0].tpl)){let d=r[0];d.dom.length?d.dom[0].nodeValue=d.tpl:d.dom.push(document.createTextNode(d.tpl)),p=d.dom[0]}else p=g(I(j(o),t)());return f(),p};c.ch=()=>a,c.l=0,c.add=p=>{if(!p&&p!==0)return c;let d=[],i,s="";T(p)&&([s,d,i]=p._h()),o+=s,o+=te;let m=i&&l.get(i),u=m||{html:s,exp:d,dom:[],tpl:p,key:i};return r.push(u),i&&(m?m.exp.forEach((v,P)=>v._up(d[P].e)):l.set(i,u)),t.e.push(...d),c.l++,c},c._up=()=>{let p=x(e),d=0,i=a[0].dom[0];r.length||h(document.createComment(""));let s=()=>{if(!p.l)return;let u=p(),v=u.lastChild;i[d?"after":"before"](u),y(p,r,d),i=v};r.forEach((u,v)=>{let P=a[v];u.key&&u.dom.length?(s(),(!P||P.dom!==u.dom)&&i[v?"after":"before"](...u.dom),i=u.dom[u.dom.length-1]):P&&u.html===P.html&&!P.key?(s(),P.exp.forEach((C,A)=>C._up(u.exp[A].e)),u.exp=P.exp,u.dom=P.dom,i=u.dom[u.dom.length-1],se(u)&&i instanceof Text&&(i.nodeValue=u.tpl)):(P&&u.html!==P.html&&!P.key&&n.push(...P.dom),p.l||(d=v),p.add(u.tpl))}),s();let m=i==null?void 0:i.nextSibling;for(;m&&e in m;)n.push(m),m=m.nextSibling;oe(n),f()};let f=()=>{n.length=0,o="",c.l=0,t={i:0,e:[]},a=[...r],r=[]},h=p=>{o="<!---->",r.push({html:o,exp:[],dom:p?[p]:[],tpl:W`${o}`,key:0})},g=p=>{let d=0,i=[];return p.childNodes.forEach(s=>{if(s.nodeType===8&&s.data===G){d++,i.push(s);return}Object.defineProperty(s,e,{value:e}),r[d].dom.push(s)}),i.forEach(s=>s.remove()),p},y=(p,d,i)=>{p.ch().forEach((s,m)=>{d[i+m].dom=s.dom})};return c}function se(e){return e.dom.length===1&&!T(e.tpl)}var w=W,X=$;function B(e){let o=document.cookie.split("; ").find(t=>t.startsWith(e+"="));return o?o.split("=")[1]:null}var E=X({user:{id:null,username:null,email:null,profilePicture:null},APItoken:null,authToken:null,csrfToken:B("CSRF-TOKEN"),currentPage:"home",pages:{},allowedPages:["home","login","register","profile","settings"],TITLE_PREFIX:"YALP SOZIAL | "});var K=()=>{let e=E.TITLE_PREFIX,o=n=>{document.title=`${e}${n.charAt(0).toUpperCase()+n.slice(1)}`},t=n=>{E.allowedPages.includes(n)&&(E.currentPage=n,window.history.pushState({},"",`/${n}`),o(n))},r=(n,c)=>{E.allowedPages.includes(n)&&(E.pages[n]=c)},a=(n,c)=>w`
            <a href="#" @click="${f=>{f.preventDefault(),t(n)}}">${c}</a>
        `,l=()=>(o(E.currentPage),E.pages[E.currentPage]||w`<div>Page not found</div>`);return window.addEventListener("popstate",()=>{let n=window.location.pathname.slice(1)||"home";E.allowedPages.includes(n)&&t(n)}),{changePage:t,addPage:r,createPageLink:a,renderCurrentPage:l}};var ae=document.getElementById("app"),k=K();k.addPage("home",w`
    <div>
        <h1>Home Page</h1>
        ${k.createPageLink("login","Go to Login")}
        <!-- Or use direct changePage -->
        <button @click=${()=>k.changePage("login")}>Login</button>
    </div>
`);k.addPage("login",w`
    <div>
        <h1>Login Page</h1>
        ${k.createPageLink("home","Back to Home")}
    </div>
`);var le=w`${k.renderCurrentPage}`;le(ae);})();
